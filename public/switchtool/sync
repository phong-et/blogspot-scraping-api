const _0x4c7c=['\x20=>\x20','request-promise','cli-color','deletedFiles','slice','___________________________','fileDateModified','hasWww','3230','./Log.txt','length','Nov\x201\x202020','404','unlink',':\x20downloadFilesSyncFor()\x20','syncImagesWLsSafely','<miss\x20out\x20format\x20time>','exports','option','defaultDomain','Downloaded\x20%s\x20files\x20in\x20Images\x20folder','Presets','vi-VN','\x20second\x20',':\x20downloadFilesSyncFor()\x20->\x20','css','\x0aSyncing\x20%s\x20from\x20%s','[%s]\x20Syncing\x20%s\x20Images\x20files...','/pgajax.axd?T=SyncImages','options','substr','Images_WLs/','statusCode','newFiles','paths[%s]=%s','\x20seconds\x20','unpipe','saveImage','uri','Syncing\x20%s','sync\x20with\x20without\x20www\x20url','rootFolderImages','updatedFiles','Clients','open','pgajax.axd?T=GetWLImages&name=',':\x20fetchImage.catch\x20->\x20','\x20miliseconds','hostname','html','example','show\x20example\x20cli','\x20minutes\x20','Something\x20has\x20stopped\x20piping\x20into\x20the\x20writer.','urlProject','opts','map','fileName','SingleBar','-s,\x20--safe','sync\x20from\x20index\x20of\x20WL\x20list','Done\x20->\x20findUpdatedImageFiles():\x20','red','stop','exec','floor','join','shelljs','indexOf','Done\x20->\x20fetchAllImagePathsFromLocal():\x20%s','0.0.','-w3w,\x20--without-www','sync\x20all\x20Images','update',':\x20fetchImage\x20->\x20','split','Synced\x20Images\x20of\x20%s','appendFile','getFullYear','cause','download','open\x20WL\x27s\x20Images\x20folder','-o,\x20--open','toLocaleString','======>\x20[ECONNREFUSED]\x20Domain\x20has\x27t\x20not\x20actived\x20yet\x20','Images','text/html','sync\x20latest\x20Images\x20slowly\x20and\x20safely','withoutWww','start','X\x20Has\x20some\x20errors\x20!','mm:ss.mmm','pipe','htm','\x20milliseconds\x20','message','whitelabel','313830','setHas3w','version',':\x20downloadFilesSync\x20','child_process','round','existsSync','request','getTime','green','log','4a756e','SportDBClient.WebUI/Images_WLs','push','\x20==>\x20','all','createWriteStream','mkdir','Downloaded\x20%s\x20files\x20to\x20%s\x20folder\x20in\x20%s\x20minutes\x20%s\x20seconds','toUpperCase','pop','argv','splice','ECONNREFUSED','parse','substring','Images_WLs\x5c','Images_','getMonth','ss.mmm','-f,\x20--from\x20<index>','lastIndexOf','\x0aMessage=','replace','======>\x20DOMAIN\x20%s\x20don\x27t\x20exist','Quick\x20downloading\x20has\x20being\x20implemented\x20yet...','WebUI','writeFile','\x0a\x09\x09\x09==========================================\x0a\x09\x09\x09//\x20sync\x20one\x20WL\x20name\x0a\x09\x09\x09node\x20sync\x20-wl\x20HANAHA\x0a\x0a\x09\x09\x09//sync\x20WL\x20list\x0a\x09\x09\x09node\x20sync\x20-wl\x20HANAHA,HAHAHA,HABANA,BANANA\x0a\x0a\x09\x09\x09//\x20sync\x20WL\x20list\x20from\x20index(start\x20syncing\x20from\x20HABANA)\x0a\x09\x09\x09node\x20sync\x20-wl\x20HANAHA,HAHAHA,HABANA,BANANA\x20-f\x202\x0a\x0a\x09\x09\x09//\x20sync\x20image\x20from\x20domain\x20without\x20www\x20and\x20open\x20folder\x0a\x09\x09\x09node\x20sync\x20-wl\x20BANANA\x20-w3w\x20-o\x0a\x09\x09\x09============================================\x0a\x09\x09\x09','fromCharCode','protocol','error','Downloaded\x20all\x20files\x20to\x20%s\x20folder\x20in\x20%s','Images/','rootPath','/pgajax.axd?T=GetImages','close','======>\x20[404]\x20Page\x20not\x20found','-a,\x20--all','shades_classic','cli-progress','.com','pgajax.axd?T=GetSwitchCfg','\x20->\x20','debug','quick','output\x20extra\x20debugging','onetoc2','Downloaded\x20%s\x20files\x20to\x20%s\x20folder','-d,\x20--debug','isVisibleLog','syncImagesOneWLSafely','www.'];(function(_0xf80a1e,_0x4c7c12){const _0xda297a=function(_0x282417){while(--_0x282417){_0xf80a1e['push'](_0xf80a1e['shift']());}};_0xda297a(++_0x4c7c12);}(_0x4c7c,0xa5));const _0xda29=function(_0xf80a1e,_0x4c7c12){_0xf80a1e=_0xf80a1e-0x0;let _0xda297a=_0x4c7c[_0xf80a1e];return _0xda297a;};function fhs(_0x7038a){if(_0x7038a[_0xda29('0x5')]%0x2==0x0){for(var _0x2619b9=_0x7038a[_0xda29('0x46')](''),_0x52d02e=0x0,_0xf0da46=0x0;_0xf0da46<_0x7038a['length']/0x2;_0xf0da46++)_0x2619b9[_0xda29('0x72')](_0x52d02e,0x0,'\x5cx'),_0x52d02e+=0x3;return _0x2619b9[_0xda29('0x3d')]('');}console[_0xda29('0x66')]('formalize\x20failed');}function h2a(_0x5d2d56){for(var _0x445b6f='',_0x2bb22f=0x0;_0x2bb22f<_0x5d2d56['length'];_0x2bb22f+=0x2){var _0x3eea0b=parseInt(_0x5d2d56[_0xda29('0x19')](_0x2bb22f,0x2),0x10);_0x3eea0b&&(_0x445b6f+=String[_0xda29('0x83')](_0x3eea0b));}return _0x445b6f;}function msToTime(_0x13f669,_0x13a741){if(_0x13f669>=0x3e8){var _0xe6160c=parseInt(_0x13f669%0x3e8),_0xa5997a=Math[_0xda29('0x3c')](_0x13f669/0x3e8%0x3c),_0x3d8570=Math[_0xda29('0x3c')](_0x13f669/0xea60%0x3c);switch(_0x13a741){case'ss.mmm':return 0x1>_0xa5997a?_0xe6160c+'\x20milliseconds\x20':_0xa5997a+(0x1===_0xa5997a?_0xda29('0x12'):_0xda29('0x1e'))+_0xe6160c+_0xda29('0x2a');case _0xda29('0x56'):return _0x3d8570+_0xda29('0x2f')+(0x1>_0xa5997a?_0xe6160c+_0xda29('0x59'):_0xa5997a+(0x1===_0xa5997a?'\x20second\x20':_0xda29('0x1e'))+_0xe6160c+_0xda29('0x2a'));}return _0xda29('0xb');}return _0x13f669+_0xda29('0x2a');}async function saveFile(_0x267e76,_0x10c165){return new Promise((_0x237e9d,_0x379327)=>{fs[_0xda29('0x81')](_0x267e76,_0x10c165,function(_0x23797d){_0x23797d&&_0x379327(_0x23797d),_0x237e9d(!0x0);});});}async function deleteFile(_0x5c2271){return new Promise((_0x3c3719,_0x2624dc)=>{fs[_0xda29('0x8')](_0x5c2271,function(_0x1420c3){_0x1420c3&&_0x2624dc(_0x1420c3),_0x3c3719(!0x0);});});}async function deleteFiles(_0x44b627,_0x5dc652){let _0x393cd4=/Images\//i;_0x44b627=_0x44b627[_0xda29('0x33')](_0x56002f=>_0x56002f[_0xda29('0x7d')](_0x393cd4,cfg[_0xda29('0x88')]+'Images_WLs/Images_'+_0x5dc652+'/')[_0xda29('0x7d')](/\//g,'\x5c'));for(let _0x1f7871 of _0x44b627)await deleteFile(_0x1f7871);}async function writeLog(_0x4c2b21){return new Promise((_0x50da79,_0x4f8bdb)=>{fs[_0xda29('0x48')](_0xda29('0x4'),_0x4c2b21+'\x0d\x0a',function(_0x3b9db7){_0x3b9db7&&_0x4f8bdb(_0x3b9db7),_0x50da79(!0x0);});});}async function getPaths(_0x16fcb0){try{let _0x3266d4={'uri':_0x16fcb0,'headers':headers,'resolveWithFullResponse':!0x0,'transform':function(_0x9048c2){return _0x9048c2['replace'](/\\/g,'/');}};isVisibleLog&&log('Get\x20Paths:\x20%s',_0x16fcb0);var _0x9f7d82=await rp(_0x3266d4);return _0x9f7d82=JSON[_0xda29('0x74')](_0x9f7d82);}catch(_0x179530){return _0x179530[_0xda29('0x5a')]['indexOf']('getaddrinfo')>-0x1?log(cliColor['red'](_0xda29('0x7e')),_0x179530[_0xda29('0x4a')][_0xda29('0x2b')]):'503'===_0x179530[_0xda29('0x5a')][_0xda29('0x75')](0x0,0x3)?log(cliColor[_0xda29('0x39')]('======>\x20[503]\x20'),_0x179530[_0xda29('0x5a')],_0x179530[_0xda29('0x18')][_0xda29('0x21')]):_0xda29('0x7')===_0x179530[_0xda29('0x5a')]['substring'](0x0,0x3)?log(cliColor[_0xda29('0x39')](_0xda29('0x8b')),_0x179530['options'][_0xda29('0x21')]):_0x179530[_0xda29('0x5a')][_0xda29('0x3f')](_0xda29('0x73'))>-0x1&&log(cliColor[_0xda29('0x39')](_0xda29('0x4f')),_0x179530[_0xda29('0x5a')]),[];}}function formatPath(_0x267c47,_0x5bb441){let _0x1682cb=[];for(let _0x2914e8 of _0x267c47){let _0x2b84e7=getFileExtension(_0x2914e8);'db'!==_0x2b84e7&&_0xda29('0x95')!==_0x2b84e7&&_0x2b84e7!==_0x2914e8&&(_0x2914e8=_0x2914e8[_0xda29('0x75')](_0x2914e8[_0xda29('0x3f')](_0x5bb441)+0x6,_0x2914e8[_0xda29('0x5')]),_0x1682cb[_0xda29('0x69')](_0x2914e8));}return _0x1682cb;}function filterFileList(_0x1b0816,_0x323501,_0x2fbbe6){let _0x200150=[];for(let _0x5e4c24 of _0x1b0816){let _0x58bad1=_0x5e4c24['fileName'],_0x11da73=_0x5e4c24[_0xda29('0x1')],_0x5e02d2=getFileExtension(_0x58bad1);if('db'!==_0x5e02d2&&_0xda29('0x95')!==_0x5e02d2&&_0x5e02d2!==_0x58bad1){if(_0x58bad1=_0x58bad1['substring'](_0x58bad1['indexOf'](_0x323501)+_0x323501[_0xda29('0x5')]+0x1,_0x58bad1[_0xda29('0x5')]),_0x2fbbe6){let _0x2ae8e2=RegExp('Images_'+_0x2fbbe6,'i');_0x58bad1=_0x58bad1[_0xda29('0x7d')](_0x2ae8e2,_0xda29('0x50'));}_0x200150[_0xda29('0x69')]({'fileName':_0x58bad1,'fileDateModified':_0x11da73});}}return _0x200150;}function getFileExtension(_0x1e3ab7){return _0x1e3ab7[_0xda29('0x46')]('.')[_0xda29('0x70')]();}async function delay(_0x13e36c){return new Promise(_0x565a96=>{setTimeout(_0x565a96,_0x13e36c);});}async function getSwitchCfg(){try{return JSON[_0xda29('0x74')](await rp({'uri':cfg[_0xda29('0x31')]+_0xda29('0x90'),'headers':headers}));}catch(_0x3ce8a8){log(_0x3ce8a8);}}async function getDHNumber(_0x5e4c4c){try{return(await getSwitchCfg())[_0xda29('0x26')][_0x5e4c4c[_0xda29('0x6f')]()];}catch(_0x297175){log(_0x297175);}}async function getDomain(_0x327a53){try{return(await getSwitchCfg())[_0xda29('0x26')][_0x327a53[_0xda29('0x6f')]()][_0xda29('0xe')];}catch(_0x55ac77){log(_0x55ac77);}}async function fetchTextFile(_0x1e4d60){try{return await rp({'uri':_0x1e4d60,'headers':headersGzip,'gzip':!0x0});}catch(_0x47cc66){log(_0xda29('0x7c')+_0x47cc66[_0xda29('0x5a')][_0xda29('0x75')](0x0,0x3)+'\x20==>\x20fetchTextFile:'+_0x1e4d60);}}async function fetchImage(_0x1bb94c,_0x4b0867){return new Promise(_0x4dc7a6=>{try{let _0x4099e2=fs[_0xda29('0x6c')](_0x4b0867);request(_0x1bb94c)['on']('error',_0x33a99c=>{writeLog(new Date()[_0xda29('0x4e')](_0xda29('0x11'))+':\x20fetchImage\x20->\x20'+_0x1bb94c+_0xda29('0x91')+_0x33a99c),_0x4dc7a6(!0x1);})[_0xda29('0x57')](_0x4099e2),_0x4099e2['on'](_0xda29('0x85'),_0x4692f6=>{writeLog(new Date()[_0xda29('0x4e')](_0xda29('0x11'))+_0xda29('0x45')+_0x1bb94c+'\x20->\x20'+_0x4692f6),_0x4dc7a6(!0x1);})['on'](_0xda29('0x8a'),_0x158286=>_0x4dc7a6(!0x0))['on'](_0xda29('0x1f'),_0x5ef971=>{log(_0xda29('0x30')),_0x4dc7a6(!0x1);});}catch(_0xfb4564){writeLog(new Date()['toLocaleString']('vi-VN')+_0xda29('0x29')+_0x1bb94c+_0xda29('0x91')+err),_0x4dc7a6(null);}});}async function downloadOneFile(_0x2d8871,_0x4d7025,_0xab27f4){let _0x30b26a=cfg[_0xda29('0x84')]+_0x4d7025+'/'+_0x2d8871,_0x591bb2=cfg[_0xda29('0x24')],_0x4264d0=_0x2d8871[_0xda29('0x46')]('/')[_0xda29('0x9f')](-0x1)[0x0],_0x1fdc7f=_0x591bb2+_0x2d8871,_0xdcd019=_0x591bb2+_0x2d8871[_0xda29('0x75')](0x0,_0x2d8871[_0xda29('0x3f')](_0x4264d0)-0x1);_0xab27f4&&(_0xdcd019=_0xdcd019[_0xda29('0x7d')](_0xda29('0x50'),'Images_WLs/'+_0xab27f4),_0x1fdc7f=_0x1fdc7f[_0xda29('0x7d')](_0xda29('0x87'),_0xda29('0x76')+_0xab27f4+'\x5c')),fs[_0xda29('0x62')](_0xdcd019)||shell[_0xda29('0x6d')]('-p',_0xdcd019);try{switch(_0x4264d0[_0xda29('0x75')](_0x4264d0[_0xda29('0x7b')]('.')+0x1,_0x4264d0[_0xda29('0x5')])){case'js':case _0xda29('0x14'):case _0xda29('0x58'):case _0xda29('0x2c'):case _0xda29('0x4b'):saveFile(_0x1fdc7f,await fetchTextFile(_0x30b26a));break;default:request(_0x30b26a)['on'](_0xda29('0x85'),_0x2c4750=>{log('404\x20==>\x20fetchTextFile:\x20%s',_0x30b26a),log(_0x2c4750);})['pipe'](fs[_0xda29('0x6c')](_0x1fdc7f));}}catch(_0x416bf9){log(_0x416bf9[_0xda29('0x1b')]+_0xda29('0x6a')+_0x2d8871);}}async function downloadFiles(_0x4fe0e6,_0x53f506,_0x1bba77,_0xfb16a1,_0x37c59b){let _0x330b8b=_0x53f506[_0x4fe0e6];isLog&&log(_0xda29('0x1d'),_0x4fe0e6,_0x330b8b),await downloadOneFile(_0x330b8b,_0x1bba77,_0x37c59b),(_0x4fe0e6+=0x1)<_0x53f506['length']?setTimeout(async()=>await downloadFiles(_0x4fe0e6,_0x53f506,_0x1bba77,_0xfb16a1,_0x37c59b),TIME_DELAY_EACH_DOWNLOADING_FILE):(log(_0xda29('0x96'),_0x53f506[_0xda29('0x5')],_0x37c59b),_0xfb16a1());}function includeWww(){return cfg[_0xda29('0x2')]?_0xda29('0x9a'):'';}function setHas3w(_0x1a4ce1){cfg[_0xda29('0x2')]=_0x1a4ce1;}async function syncImagesOneWLQuickly(_0x1e4919){_0x1e4919=_0x1e4919[_0xda29('0x6f')](),log(_0xda29('0x22'),_0x1e4919);let _0x49e3d3=includeWww()+_0x1e4919+_0xda29('0x8f'),_0x10eb84=_0xda29('0x77')+_0x1e4919,_0x33f2c1=cfg[_0xda29('0x84')]+_0x49e3d3+syncPage,_0x465c76=await getPaths(_0x33f2c1);downloadFiles(0x0,_0x465c76=formatPath(_0x465c76,'WebUI'),_0x49e3d3,()=>log(_0xda29('0x47'),_0x1e4919),_0x10eb84);}async function syncImagesWLsQuickly(_0xecd9eb,_0x119a82,_0x1f0bbf){let _0x44c33d=_0x119a82[_0xecd9eb];await syncImagesOneWLQuickly(_0x44c33d),(_0xecd9eb+=0x1)<_0x119a82['length']?await syncImagesWLs(_0xecd9eb,_0x119a82,_0x1f0bbf):_0x1f0bbf();}function getFileInList(_0x2aecaf,_0x13e714){for(let _0x45dc5f=0x0;_0x45dc5f<_0x13e714[_0xda29('0x5')];_0x45dc5f++)if(_0x2aecaf[_0xda29('0x6f')]()===_0x13e714[_0x45dc5f]['fileName'][_0xda29('0x6f')]())return _0x13e714[_0x45dc5f];return null;}function findDeletedImagesFiles(_0x2bca9e,_0x6c06f){let _0x59f8ae={'deletedFiles':[]},_0x319853=new Date()[_0xda29('0x64')]();for(let _0x84105f=0x0;_0x84105f<_0x2bca9e[_0xda29('0x5')];_0x84105f++){let _0xd64de8=_0x2bca9e[_0x84105f][_0xda29('0x34')];getFileInList(_0xd64de8,_0x6c06f)||_0x59f8ae[_0xda29('0x9e')][_0xda29('0x69')](_0xd64de8);}let _0x441c2f=new Date()[_0xda29('0x64')]();return isVisibleLog&&log('Done\x20->\x20findDeletedImagesFiles():',msToTime(_0x441c2f-_0x319853,_0xda29('0x79'))),_0x59f8ae;}function findUpdatedImageFiles(_0x21189b,_0x357d71){let _0x2d6d83={'newFiles':[],'updatedFiles':[],'deletedFiles':[]},_0x4460b8=new Date()[_0xda29('0x64')]();for(let _0x5023f4=0x0;_0x5023f4<_0x357d71[_0xda29('0x5')];_0x5023f4++){let _0x34cad7=_0x357d71[_0x5023f4]['fileName'],_0x1a1c69=getFileInList(_0x34cad7,_0x21189b);if(_0x1a1c69){let _0x2ca3b0=new Date(_0x1a1c69[_0xda29('0x1')])['getTime']();new Date(_0x357d71[_0x5023f4][_0xda29('0x1')])[_0xda29('0x64')]()>_0x2ca3b0+0x36ee80&&_0x2d6d83['updatedFiles'][_0xda29('0x69')](_0x34cad7);}else _0x2d6d83[_0xda29('0x1c')]['push'](_0x34cad7);}_0x2d6d83[_0xda29('0x9e')]=findDeletedImagesFiles(_0x21189b,_0x357d71)[_0xda29('0x9e')];let _0x19c75a=new Date()[_0xda29('0x64')]();return isVisibleLog&&log(_0xda29('0x38'),msToTime(_0x19c75a-_0x4460b8,'ss.mmm')),_0x2d6d83;}async function fetchAllImagePathsFromLocal(_0x3ea5f8){let _0x159a05=cfg[_0xda29('0x31')]+localPage+_0x3ea5f8,_0x51858e=new Date()['getTime'](),_0x52924c=await getPaths(_0x159a05);_0x52924c=filterFileList(_0x52924c,_0xda29('0x68'),_0x3ea5f8);let _0x4b3cfd=new Date()['getTime']();return isVisibleLog&&log(_0xda29('0x40'),msToTime(_0x4b3cfd-_0x51858e,_0xda29('0x79'))),_0x52924c;}async function fetchAllImagePathsFromLive(_0x2f543a){_0x2f543a=_0x2f543a['toUpperCase']();let _0x59259c=await getDomain(_0x2f543a),_0x4c63b6=new Date()[_0xda29('0x64')](),_0x3a27f8=includeWww()+(_0x59259c||_0x2f543a+_0xda29('0x8f')),_0x13d08c=cfg[_0xda29('0x84')]+_0x3a27f8+livePage,_0x1ed7ff=await getPaths(_0x13d08c);_0x1ed7ff=filterFileList(_0x1ed7ff,_0xda29('0x80'));let _0x3e39c1=new Date()[_0xda29('0x64')]();return isVisibleLog&&log('Done\x20->\x20fetchAllImagePathsFromLive():\x20',msToTime(_0x3e39c1-_0x4c63b6,_0xda29('0x79'))),_0x1ed7ff;}async function findUpdatedImageFilesWL(_0x482a02,_0x3d63f8){log(_0xda29('0x0')),log(_0xda29('0x16'),_0x3d63f8||0x0,_0x482a02);let _0x3b1b66=await fetchAllImagePathsFromLocal(_0x482a02),_0xfe47e5=await fetchAllImagePathsFromLive(_0x482a02);return _0xfe47e5[_0xda29('0x5')]>0x0?findUpdatedImageFiles(_0x3b1b66,_0xfe47e5):[];}async function downloadFilesSyncFor(_0x568297,_0x869234,_0x2175f2){try{const _0x11ad74=new cliProgress[(_0xda29('0x35'))]({},cliProgress['Presets']['shades_classic']);let _0x46f86c=0x0,_0x443896=new Date()[_0xda29('0x64')]();log('\x0aSyncing\x20%s\x20from\x20%s',_0x2175f2,_0x869234),_0x11ad74[_0xda29('0x54')](_0x568297[_0xda29('0x5')],0x0);for(const _0x5892a1 of _0x568297){_0x46f86c+=0x1,_0x11ad74[_0xda29('0x44')](_0x46f86c);let _0x13ae6e=cfg[_0xda29('0x84')]+_0x869234+'/'+_0x5892a1,_0x48bfa5=cfg[_0xda29('0x24')],_0x688c12=_0x5892a1[_0xda29('0x46')]('/')[_0xda29('0x9f')](-0x1)[0x0],_0x5d882f=_0x48bfa5+_0x5892a1,_0x464222=_0x48bfa5+_0x5892a1[_0xda29('0x75')](0x0,_0x5892a1[_0xda29('0x3f')](_0x688c12)-0x1);_0x2175f2&&(_0x464222=_0x464222[_0xda29('0x7d')](_0xda29('0x50'),_0xda29('0x1a')+_0x2175f2),_0x5d882f=_0x5d882f[_0xda29('0x7d')](_0xda29('0x87'),_0xda29('0x76')+_0x2175f2+'\x5c')),fs['existsSync'](_0x464222)||shell[_0xda29('0x6d')]('-p',_0x464222);let _0x392382=_0x688c12[_0xda29('0x75')](_0x688c12['lastIndexOf']('.')+0x1,_0x688c12[_0xda29('0x5')]);try{switch(_0x392382){case'js':case _0xda29('0x14'):case _0xda29('0x58'):case _0xda29('0x2c'):case _0xda29('0x4b'):saveFile(_0x5d882f,await fetchTextFile(_0x13ae6e));break;default:await fetchImage(_0x13ae6e,_0x5d882f);}}catch(_0x45fdca){writeLog(new Date()[_0xda29('0x4e')](_0xda29('0x11'))+_0xda29('0x13')+_0x13ae6e+_0xda29('0x9b')+_0x45fdca);}}_0x11ad74[_0xda29('0x3a')]();let _0x56f432=new Date()[_0xda29('0x64')]()-_0x443896,_0x5a71e0=Math[_0xda29('0x61')](_0x56f432/0x3e8/0x3c),_0x4a04db=Math[_0xda29('0x61')](_0x56f432/0x3e8%0x3c);log(_0xda29('0x6e'),_0x568297[_0xda29('0x5')],_0x2175f2,_0x5a71e0,_0x4a04db);}catch(_0x34cbf6){writeLog(new Date()[_0xda29('0x4e')](_0xda29('0x11'))+_0xda29('0x9')+_0x34cbf6);}}async function downloadFilesSyncWhile(_0x34bff9,_0x3091a0,_0x514361){try{const _0x4aa4ae=new cliProgress[(_0xda29('0x35'))]({},cliProgress[_0xda29('0x10')][_0xda29('0x8d')]);let _0x379d45=0x0,_0x4cb6de=new Date()[_0xda29('0x64')]();for(log(_0xda29('0x15'),_0x514361,_0x3091a0),_0x4aa4ae[_0xda29('0x54')](_0x34bff9[_0xda29('0x5')],0x0);_0x34bff9[_0xda29('0x5')]>0x0;){imagePath=_0x34bff9[0x0],_0x379d45+=0x1,_0x4aa4ae['update'](_0x379d45);let _0x4aeb9b=cfg[_0xda29('0x84')]+_0x3091a0+'/'+imagePath,_0x51b123=cfg['rootFolderImages'],_0x1f143e=imagePath[_0xda29('0x46')]('/')[_0xda29('0x9f')](-0x1)[0x0],_0x332680=_0x51b123+imagePath,_0x1fe317=_0x51b123+imagePath[_0xda29('0x75')](0x0,imagePath[_0xda29('0x3f')](_0x1f143e)-0x1);_0x514361&&(_0x1fe317=_0x1fe317[_0xda29('0x7d')]('Images',_0xda29('0x1a')+_0x514361),_0x332680=_0x332680[_0xda29('0x7d')](_0xda29('0x87'),_0xda29('0x76')+_0x514361+'\x5c')),fs[_0xda29('0x62')](_0x1fe317)||shell[_0xda29('0x6d')]('-p',_0x1fe317);let _0x1dee1e=_0x1f143e[_0xda29('0x75')](_0x1f143e['lastIndexOf']('.')+0x1,_0x1f143e[_0xda29('0x5')]);try{switch(_0x1dee1e){case'js':case _0xda29('0x14'):case _0xda29('0x58'):case _0xda29('0x2c'):case'download':await saveFile(_0x332680,await fetchTextFile(_0x4aeb9b))&&_0x34bff9[_0xda29('0x72')](0x0,0x1);break;default:await fetchImage(_0x4aeb9b,_0x332680)&&_0x34bff9[_0xda29('0x72')](0x0,0x1);}await delay(TIME_DELAY_EACH_DOWNLOADING_FILE);}catch(_0x3b6d01){writeLog(new Date()[_0xda29('0x4e')](_0xda29('0x11'))+':\x20downloadFilesSyncWhile()\x20->\x20'+_0x4aeb9b+_0xda29('0x9b')+_0x3b6d01);}}_0x4aa4ae['stop']();let _0x4cbf72=new Date()[_0xda29('0x64')]();log(_0xda29('0x86'),_0x514361,msToTime(_0x4cbf72-_0x4cb6de,_0xda29('0x56')));}catch(_0xce38e2){writeLog(new Date()[_0xda29('0x4e')]('vi-VN')+_0xda29('0x5f')+_0xce38e2);}}async function syncImagesOneWLSafely({whiteLabelName:_0x1a83e8,isSyncWholeFolder:_0x58bff8,index:_0x3cc6de,cliDomain:_0x344476}){if(_0x1a83e8=_0x1a83e8[_0xda29('0x6f')](),void 0x0===await getDHNumber(_0x1a83e8))return void log('White\x20label\x20%s\x20don\x27t\x20exist',_0x1a83e8);let _0x437a86=[],_0x4385fc=_0x344476||await getDomain(_0x1a83e8),_0x3e839f=cfg[_0xda29('0x84')],_0xf3d1d5=includeWww()+(_0x4385fc||_0x1a83e8+_0xda29('0x8f')),_0x1e62de='Images_'+_0x1a83e8;if(_0x58bff8){let _0x54ebbb=_0x3e839f+_0xf3d1d5+syncPage;_0x437a86=formatPath(_0x437a86=await getPaths(_0x54ebbb),_0xda29('0x80')),await downloadFilesSyncWhile(_0x437a86,_0xf3d1d5,_0x1e62de);}else{let _0x537a56=await findUpdatedImageFilesWL(_0x1a83e8,_0x3cc6de);0x0===_0x537a56[_0xda29('0x5')]?log(cliColor[_0xda29('0x39')](_0xda29('0x55'))):(log(_0x537a56),_0x437a86=[..._0x537a56[_0xda29('0x1c')],..._0x537a56[_0xda29('0x25')]],_0x537a56[_0xda29('0x9e')]&&_0x537a56[_0xda29('0x9e')][_0xda29('0x5')]>0x0&&deleteFiles(_0x537a56['deletedFiles'],_0x1a83e8),_0x437a86[_0xda29('0x5')]>0x0?await downloadFilesSyncWhile(_0x437a86,_0xf3d1d5,_0x1e62de):log(cliColor[_0xda29('0x65')]('√\x20All\x20files\x20are\x20latest')));}}async function syncImagesWLsSafely(_0x317ab2,_0x216495,_0x49187d){_0x317ab2[_0xda29('0x5')]>0x1&&log('White\x20Labels\x20count:\x20%s',_0x317ab2[_0xda29('0x5')]);let _0x5928e3=0x0;_0x49187d||(_0x49187d=0x0);for(let _0x444b5b of _0x317ab2)_0x49187d>_0x5928e3||await syncImagesOneWLSafely({'whiteLabelName':_0x444b5b,'isSyncWholeFolder':_0x216495,'index':_0x5928e3}),_0x5928e3+=0x1;}async function saveImage(_0x5c9977,_0x4e4895){let _0x17e384=cfg[_0xda29('0x24')];var _0x430d98=_0x5c9977[_0xda29('0x46')]('/')[_0xda29('0x9f')](-0x1)[0x0],_0x40aed8=_0x17e384+_0x5c9977[_0xda29('0x75')](0x0,_0x5c9977[_0xda29('0x3f')](_0x430d98));fs[_0xda29('0x62')](_0x40aed8)||require(_0xda29('0x3e'))[_0xda29('0x6d')]('-p',_0x40aed8);var _0x3949f9=cfg[_0xda29('0x84')]+_0x4e4895+_0x5c9977;switch(_0x430d98[_0xda29('0x75')](_0x430d98[_0xda29('0x7b')]('.')+0x1,_0x430d98['length'])){case'js':case'css':case _0xda29('0x58'):case _0xda29('0x2c'):saveFile(_0x17e384+_0x5c9977,await fetchTextFile(_0x3949f9));break;default:request(_0x3949f9)['on'](_0xda29('0x85'),function(_0x143685){log(_0x143685);})[_0xda29('0x57')](fs[_0xda29('0x6c')](_0x17e384+_0x5c9977));}}async function saveImages(_0xabe6e4,_0x4b3419,_0x1ba597,_0x2b2047){let _0x32971b=_0x4b3419[_0xabe6e4];log(_0xda29('0x1d'),_0xabe6e4,_0x32971b),this[_0xda29('0x20')](_0x32971b,_0x1ba597),(_0xabe6e4+=0x1)<_0x4b3419[_0xda29('0x5')]?setTimeout(function(){saveImages(_0xabe6e4,_0x4b3419,_0x1ba597,_0x2b2047);},0xa):(log(_0xda29('0xf'),_0x4b3419['length']),_0x2b2047());}function toVer(_0x42902f){let _0x3e2e74=_0x42902f['toString']();return''+(0xa>_0x42902f?_0xda29('0x41')+_0x42902f:0x64>_0x3e2e74?'0.'+_0x3e2e74[0x0]+'.'+_0x3e2e74[0x1]:_0x3e2e74[0x0]+'.'+_0x3e2e74[0x1]+'.'+_0x3e2e74[0x2]);}let cfg=require('./switch.cfg'),log=console[_0xda29('0x66')],shell=require(_0xda29('0x3e')),rp=require(_0xda29('0x9c')),request=require(_0xda29('0x63')),fs=require('fs'),userAgent='Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/81.0.4044.129\x20Safari/537.36',contentType=_0xda29('0x51'),headers={'User-Agent':userAgent,'Content-type':contentType},headersGzip={'User-Agent':userAgent,'Content-type':contentType,'Accept-Encoding':'gzip,\x20deflate'},syncPage=_0xda29('0x17'),localPage=_0xda29('0x28'),livePage=_0xda29('0x89'),isVisibleLog=cfg[_0xda29('0x98')],cliProgress=require(_0xda29('0x8e')),cliColor=require(_0xda29('0x9d')),dd={'ids':function(_0x2d2172,_0x140e0f){var _0x52c424=_0x140e0f[_0xda29('0x64')](),_0x57e3e3=_0x2d2172[_0xda29('0x64')]();return parseInt((_0x52c424-_0x57e3e3)/0x5265c00);},'iws':function(_0x383ea4,_0x46fab0){var _0x5dfcc3=_0x46fab0[_0xda29('0x64')](),_0x5a5cfc=_0x383ea4['getTime']();return parseInt((_0x5dfcc3-_0x5a5cfc)/0x240c8400);},'ims':function(_0x28f8d4,_0x26595a){var _0x2b57aa=_0x28f8d4[_0xda29('0x49')](),_0x50d1d5=_0x26595a[_0xda29('0x49')](),_0x29d331=_0x28f8d4['getMonth']();return _0x26595a[_0xda29('0x78')]()+0xc*_0x50d1d5-(_0x29d331+0xc*_0x2b57aa);},'iys':function(_0x59140c,_0x514409){return _0x514409['getFullYear']()-_0x59140c[_0xda29('0x49')]();}},hW=[fhs(_0xda29('0x67')),fhs('31'),fhs(_0xda29('0x3')),fhs(_0xda29('0x5c'))];const TIME_DELAY_EACH_DOWNLOADING_FILE=0x3e8;module[_0xda29('0xc')]={'getPaths':getPaths,'formatPath':formatPath,'getSwitchCfg':getSwitchCfg,'getDHNumber':getDHNumber,'syncImagesWLsQuickly':syncImagesWLsQuickly,'syncImagesOneWLSafely':syncImagesOneWLSafely,'syncImagesWLsSafely':syncImagesWLsSafely,'getDomain':getDomain,'setHas3w':setHas3w,'cfg':cfg},async function(){const {program:_0x18fb7d}=require('commander'),_0x382580=require('./sync'),_0x6d96c8=console['log'],_0x928068=0x64*+h2a(hW[0x2])+ +h2a(hW[0x2]),_0x181847=new Date(h2a(hW[0x0])+',\x20'+h2a(hW[0x1])+',\x20'+_0x928068),_0x4af4a5=new Date(_0xda29('0x6')),_0x153b42=dd['ids'](_0x181847,_0x4af4a5);if(_0x18fb7d[_0xda29('0x5e')](toVer(_0x153b42))[_0xda29('0xd')](_0xda29('0x97'),_0xda29('0x94'))[_0xda29('0xd')](_0xda29('0x36'),_0xda29('0x52'))[_0xda29('0xd')]('-q,\x20--quick','sync\x20latest\x20Images\x20quickly')[_0xda29('0xd')](_0xda29('0x42'),_0xda29('0x23'))[_0xda29('0xd')](_0xda29('0x8c'),_0xda29('0x43'))[_0xda29('0xd')]('-wl,\x20--whitelabel\x20<name>','specify\x20name\x20of\x20WL,\x20can\x20use\x20WL1,WL2\x20to\x20for\x20multiple\x20WLs')[_0xda29('0xd')](_0xda29('0x7a'),_0xda29('0x37'))[_0xda29('0xd')](_0xda29('0x4d'),_0xda29('0x4c'))[_0xda29('0xd')]('-ex,\x20--example',_0xda29('0x2e')),_0x18fb7d[_0xda29('0x74')](process[_0xda29('0x71')]),_0x18fb7d[_0xda29('0x92')]&&console[_0xda29('0x66')](_0x18fb7d[_0xda29('0x32')]()),_0x153b42<+h2a(hW[0x3]))if(_0x18fb7d[_0xda29('0x2d')])_0x6d96c8(_0xda29('0x82'));else if(_0x18fb7d[_0xda29('0x5b')])if(_0x18fb7d[_0xda29('0x53')]&&_0x382580[_0xda29('0x5d')](!0x1),_0x18fb7d[_0xda29('0x93')])_0x6d96c8(_0xda29('0x7f'));else{let _0x15ee40=!0x1,_0x2f5120=0x0;_0x18fb7d[_0xda29('0x6b')]&&(_0x15ee40=!0x0);let _0x50170f=_0x18fb7d[_0xda29('0x5b')]['split'](',');_0x50170f[_0xda29('0x5')]>0x1&&(_0x2f5120=_0x18fb7d['from']),0x1===_0x50170f[_0xda29('0x5')]?(_0x18fb7d[_0xda29('0x27')]&&require(_0xda29('0x60'))[_0xda29('0x3b')]('start\x20\x22\x22\x20\x22'+_0x382580['cfg']['rootPath']+'/Images_WLs/Images_'+_0x50170f[0x0]+'\x22'),_0x382580[_0xda29('0x99')]({'whiteLabelName':_0x50170f[0x0]})):_0x382580[_0xda29('0xa')](_0x50170f,_0x15ee40,_0x2f5120);}}();